{
  "version": 3,
  "file": "appInfo.js",
  "sourceRoot": "",
  "sources": [
    "../src/appInfo.ts"
  ],
  "names": [],
  "mappings": ";;;;;;;;;;;;;;;AACA,AAAO,AAAE,AAAI,AAAE,AAAM,AAA+B;;;;;;AACpD,AAAO,AAAE,AAAe,AAAE,AAAO,AAAE,AAAM,AAAuB;;;;;;AAChE,AAAO,AAAgB,AAAM,AAAmB;;;;;;AAChD,AAAO,AAAE,AAAM,AAAE,AAAM,AAAQ,AAG/B,AAAM;;;;;;;AAaJ,gBAAmB,AAAkB,UAAU,AAAe,MAAE,AAA4B;AAAzE,aAAQ,WAAR,AAAQ,AAAU;AAAU,aAAI,OAAJ,AAAI,AAAW;AAZrD,aAAW,cAAG,AAAO,mEAAC,AAAI,KAAC,AAAQ,SAAC,AAAW,eAAI,AAAE,AAAC;AAa7D,AAAI,aAAC,AAAO,UAAG,AAAQ,SAAC,AAAQ;AAEhC,AAAI,aAAC,AAAW,cAAS,AAAI,KAAC,AAAO,OAAC,AAAe,AAAC,oBAAI,AAAO,QAAC,AAAG,IAAC,AAAmB,uBAAI,AAAO,QAAC,AAAG,IAAC,AAAqB,yBAAI,AAAO,QAAC,AAAG,IAAC,AAAgB,oBAAI,AAAO,QAAC,AAAG,IAAC,AAAY;AAE1L,AAAE,AAAC,YAAC,AAAe,2EAAC,AAAY,AAAC,AAAC,eAAC,AAAC;AAClC,AAAY,2BAAG,AAAI,KAAC,AAAO;AAC3B,AAAE,AAAC,gBAAC,CAAC,AAAe,2EAAC,AAAI,KAAC,AAAW,AAAC,AAAC,cAAC,AAAC;AACvC,AAAY,AAAI,oCAAI,AAAI,KAAC,AAAW,WAAE,AACxC;AAAC;AACD,AAAI,iBAAC,AAAY,eAAG,AAAY,AAClC;AAAC,AACD,AAAI,eAAC,AAAC;AACJ,AAAI,iBAAC,AAAY,eAAG,AAAa,AACnC;AAAC;AAED,AAAI,aAAC,AAAW,cAAG,AAAI,KAAC,AAAM,OAAC,AAAW,eAAI,AAAQ,SAAC,AAAW,eAAI,AAAQ,SAAC,AAAK;AACpF,AAAI,aAAC,AAAe,kBAAG,AAAgB,6DAAC,AAAI,KAAC,AAAW,AAAC,AAC3D;AAAC;AAtBD,QAAY,AAAM;AAChB,AAAM,eAAC,AAAI,KAAC,AAAI,KAAC,AAAM,AACzB;AAAC;AAsBD,QAAI,AAAyB;AAC3B,cAAM,AAAa,gBAAG,AAAI,AAAM,uCAAC,AAAI,KAAC,AAAO,AAAC;AAC9C,AAAM,AAAC,kBAAG,AAAa,cAAC,AAAK,SAAI,AAAa,cAAC,AAAK,SAAI,AAAa,cAAC,AAAK,SAAI,AAAI,KAAC,AAAW,eAAI,AAAG,GAAE,AAC1G;AAAC;AAED,QAAI,AAAW;AACb,AAAM,eAAC,AAAI,KAAC,AAAQ,SAAC,AAAO,OAAC,AAAI,AACnC;AAAC;AAED,QAAI,AAAE;AACJ,YAAI,AAAK,QAAS,AAAI,KAAC,AAAO,OAAC,AAAe,AAAC;AAC/C,AAAE,AAAC,YAAC,AAAK,SAAI,AAAI,AAAC,MAAC,AAAC;AAClB,AAAI,4CAAC,AAA+C,AAAC,AACvD;AAAC;AAED,AAAE,AAAC,YAAC,AAAI,KAAC,AAAM,OAAC,AAAK,SAAI,AAAI,AAAC,MAAC,AAAC;AAC9B,AAAK,oBAAG,AAAI,KAAC,AAAM,OAAC,AAAK,AAC3B;AAAC;AAED,cAAM,AAAoB,uBAAG;AAC3B,AAAM,AAAC,mCAAgB,AAAI,KAAC,AAAQ,SAAC,AAAK,KAAC,AAAW,AAAE,aAAE,AAC5D;AAAC;AAED,AAAE,AAAC,YAAC,AAAK,UAAK,AAAS,aAAI,AAAe,2EAAC,AAAK,AAAC,AAAC,QAAC,AAAC;AAClD,kBAAM,AAAc,iBAAG,AAAK;AAC5B,AAAK,oBAAG,AAAoB,AAAE;AAC9B,AAAI,AAAC,2DAAe,AAAc,8BAAgB,AAAK,KAAwB,AAAC,AAClF;AAAC;AAED,AAAM,eAAC,AAAK,SAAI,AAAI,OAAG,AAAoB,AAAE,yBAAG,AAAK,AACvD;AAAC;AAED,QAAI,AAAI;AACN,AAAM,eAAC,AAAI,KAAC,AAAQ,SAAC,AAAK,AAC5B;AAAC;AAED,QAAI,AAAS;AACX,cAAM,AAAS,YAAG,AAAI,KAAC,AAAM,OAAC,AAAS;AACvC,AAAE,AAAC,YAAC,AAAS,aAAI,AAAI,AAAC,MAAC,AAAC;AACtB,AAAM,mBAAC,AAAS,AAClB;AAAC;AACD,AAAM,AAAC,8BAAe,IAAI,AAAI,AAAE,OAAC,AAAW,AAAE,iBAAI,AAAI,KAAC,AAAQ,SAAC,AAAO,OAAC,AAAI,QAAI,AAAI,KAAC,AAAW,WAAE,AACpG;AAAC;AAEK,AAAiB,qBAAvB,AAAK;;;;AACH,kBAAM,AAAG,MAAG,AAAI,MAAC,AAAQ,SAAC,AAAQ;AAClC,AAAE,AAAC,gBAAC,AAAG,OAAI,AAAI,AAAC,MAAC,AAAC;AAChB,AAAM,uBAAC,AAAG,AACZ;AAAC;AAED,kBAAM,AAAI,OAAG,MAAM,AAAI,MAAC,AAAI,KAAC,AAAc;AAC3C,AAAM,mBAAC,AAAI,QAAI,AAAI,QAAI,AAAI,KAAC,AAAI,SAAK,AAAQ,WAAI,AAAI,AAAG,kBAAW,AAAI,KAAC,AAAM,UAAI,AAAI,KAAC,AAAI,QAAI,AAAI,KAAC,AAAO,OAAE,AAC/G;;AAAC,AACF",
  "sourcesContent": [
    "import { Config, Metadata } from \"./metadata\"\nimport { warn } from \"electron-builder-util/out/log\"\nimport { isEmptyOrSpaces, smarten } from \"electron-builder-util\"\nimport sanitizeFileName from \"sanitize-filename\"\nimport { SemVer } from \"semver\"\nimport { BuildInfo } from \"./packagerApi\"\n\nexport class AppInfo {\n  readonly description = smarten(this.metadata.description || \"\")\n  readonly version: string\n  readonly buildNumber: string\n  readonly buildVersion: string\n\n  readonly productName: string\n  readonly productFilename: string\n\n  private get config(): Config {\n    return this.info.config\n  }\n\n  constructor(public metadata: Metadata, private info: BuildInfo, buildVersion?: string | null) {\n    this.version = metadata.version!\n\n    this.buildNumber = (<any>this.config)[\"build-version\"] || process.env.TRAVIS_BUILD_NUMBER || process.env.APPVEYOR_BUILD_NUMBER || process.env.CIRCLE_BUILD_NUM || process.env.BUILD_NUMBER\n\n    if (isEmptyOrSpaces(buildVersion)) {\n      buildVersion = this.version\n      if (!isEmptyOrSpaces(this.buildNumber)) {\n        buildVersion += `.${this.buildNumber}`\n      }\n      this.buildVersion = buildVersion\n    }\n    else {\n      this.buildVersion = buildVersion!\n    }\n\n    this.productName = this.config.productName || metadata.productName || metadata.name!\n    this.productFilename = sanitizeFileName(this.productName)\n  }\n\n  get versionInWeirdWindowsForm(): string {\n    const parsedVersion = new SemVer(this.version)\n    return `${parsedVersion.major}.${parsedVersion.minor}.${parsedVersion.patch}.${this.buildNumber || \"0\"}`\n  }\n\n  get companyName() {\n    return this.metadata.author!.name\n  }\n\n  get id(): string {\n    let appId = (<any>this.config)[\"app-bundle-id\"]\n    if (appId != null) {\n      warn(\"app-bundle-id is deprecated, please use appId\")\n    }\n\n    if (this.config.appId != null) {\n      appId = this.config.appId\n    }\n\n    const generateDefaultAppId = () => {\n      return `com.electron.${this.metadata.name!.toLowerCase()}`\n    }\n\n    if (appId === \"your.id\" || isEmptyOrSpaces(appId)) {\n      const incorrectAppId = appId\n      appId = generateDefaultAppId()\n      warn(`Do not use \"${incorrectAppId}\" as appId, \"${appId}\" will be used instead`)\n    }\n\n    return appId == null ? generateDefaultAppId() : appId\n  }\n\n  get name(): string {\n    return this.metadata.name!\n  }\n\n  get copyright(): string {\n    const copyright = this.config.copyright\n    if (copyright != null) {\n      return copyright\n    }\n    return `Copyright Â© ${new Date().getFullYear()} ${this.metadata.author!.name || this.productName}`\n  }\n\n  async computePackageUrl(): Promise<string | null> {\n    const url = this.metadata.homepage\n    if (url != null) {\n      return url\n    }\n\n    const info = await this.info.repositoryInfo\n    return info == null || info.type !== \"github\"  ? null : `https://${info.domain}/${info.user}/${info.project}`\n  }\n}"
  ]
}
