{
  "version": 3,
  "file": "WebInstaller.js",
  "sourceRoot": "",
  "sources": [
    "../../src/targets/WebInstaller.ts"
  ],
  "names": [],
  "mappings": ";;;;;;;;;;;;;;AACA,AAAO,AAAE,AAAkB,AAAE,AAAiB,AAAE,AAA8B,AAAE,AAAM,AAA2B;;;;;;AAEjH,AAAO,AAAU,AAAM,AAAQ,AAE/B,AAAM,AAAC,AAAO;;;;;;MAA0B,AAAQ,AAAU;AACxD,gBAAY,AAAqB,UAAE,AAAc,QAAE,AAAkB;AACnE,AAAK,cAAC,AAAQ,UAAE,AAAM,QAAE,AAAU,AAAC,AACrC;AAAC;AAED,QAAc,AAAc;AAC1B,AAAM,eAAC,AAAI,AACb;AAAC;AAEe,AAAgB,oBAAtB,AAAK,CAAkB,AAAiB,UAAE,AAAY;;;;AAC9D,AAA8B;AAC9B,kBAAY,AAAU,gCAAC,AAAU,UAAC,AAAgB,iBAAC,AAAI,AAAC,AAAI,YAAE,AAAQ,UAAE,AAAO,AAAC;AAEhF,kBAAM,AAAQ,WAAG,AAAI,MAAC,AAAQ;AAC9B,kBAAM,AAAO,UAAG,AAAI,MAAC,AAAO;AAE5B,gBAAI,AAAa,gBAAoB,AAAQ,QAAC,AAAa;AAC3D,AAAE,AAAC,gBAAC,AAAa,iBAAI,AAAI,AAAC,MAAC,AAAC;AAC1B,sBAAM,AAAc,iBAAG,MAAM,AAA8B,gFAAC,AAAQ,WAAE,MAAM,AAAiB,mEAAC,AAAQ,UAAE,AAAI,MAAC,AAAO,AAAC,AAAC;AACtH,AAAE,AAAC,oBAAC,AAAc,kBAAI,AAAI,QAAI,AAAc,eAAC,AAAM,WAAK,AAAC,AAAC,GAAC,AAAC;AAC1D,0BAAM,IAAI,AAAK,MAAC,AAAyC,AAAC,AAC5D;AAAC;AAED,AAAa,gCAAG,AAAkB,oEAAC,AAAc,eAAC,AAAC,AAAC,IAAE,AAAI,MAAE,AAAQ,UAAE,AAAI,AAAC;AAE3E,AAAO,wBAAC,AAA4B,+BAAG,AAAI,AAC7C;AAAC;AAED,AAAO,oBAAC,AAAe,kBAAG,AAAa,AACzC;;AAAC;AAED,QAAc,AAAwB;AACpC,AAAM,eAAC,AAA4C,AACrD;AAAC;AAES,AAA2B;AACnC,AAAM,AAAC,kBAAG,AAAI,KAAC,AAAQ,SAAC,AAAO,QAAC,AAAI,iBAAa,AAAI,KAAC,AAAQ,SAAC,AAAO,QAAC,AAAO,OAAM,AACtF;AAAC,AACF",
  "sourcesContent": [
    "import { NsisWebOptions } from \"../options/winOptions\"\nimport { computeDownloadUrl, getPublishConfigs, getPublishConfigsForUpdateInfo } from \"../publish/PublishManager\"\nimport { WinPackager } from \"../winPackager\"\nimport NsisTarget from \"./nsis\"\n\nexport default class WebInstallerTarget extends NsisTarget {\n  constructor(packager: WinPackager, outDir: string, targetName: string) {\n    super(packager, outDir, targetName)\n  }\n\n  protected get isWebInstaller(): boolean {\n    return true\n  }\n\n  protected async configureDefines(oneClick: boolean, defines: any) {\n    //noinspection ES6MissingAwait\n    await (<any>NsisTarget.prototype).configureDefines.call(this, oneClick, defines)\n\n    const packager = this.packager\n    const options = this.options\n\n    let appPackageUrl = (<NsisWebOptions>options).appPackageUrl\n    if (appPackageUrl == null) {\n      const publishConfigs = await getPublishConfigsForUpdateInfo(packager, await getPublishConfigs(packager, this.options))\n      if (publishConfigs == null || publishConfigs.length === 0) {\n        throw new Error(\"Cannot compute app package download URL\")\n      }\n\n      appPackageUrl = computeDownloadUrl(publishConfigs[0], null, packager, null)\n\n      defines.APP_PACKAGE_URL_IS_INCOMLETE = null\n    }\n\n    defines.APP_PACKAGE_URL = appPackageUrl\n  }\n\n  protected get installerFilenamePattern(): string {\n    return \"${productName} Web Setup ${version}.${ext}\"\n  }\n\n  protected generateGitHubInstallerName(): string {\n    return `${this.packager.appInfo.name}-WebSetup-${this.packager.appInfo.version}.exe`\n  }\n}"
  ]
}
